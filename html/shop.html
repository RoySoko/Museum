
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="robots" content="noindex, nofollow" />
  <meta name="author" content="Amanda Sokolowski" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Souvenir Shop – The Museum of Royce the Great</title>
  <link rel="stylesheet" href="../css/style.css">

 
</head>

<body class="collections-page">
  <header class="site-header">
    <h1>The Museum of Royce the Great, Wirehaired Wonder</h1>
    <nav class="main-nav">
      <button onclick="location.href='../index.html'">Home</button>
      <button onclick="location.href='staff.html'">Staff</button>
      <button onclick="location.href='collections.html'">Collections</button>
      <button onclick="location.href='shop.html'">Shop</button>
      <!-- View Cart -->
      <button onclick="location.href='cart.html'" id="viewCartBtn">View Cart</button>
    </nav>
  </header>

  <main class="shop-wrap">
    <h2 style="text-align:center; margin-bottom:.25rem; color:#3d5a3d; font-family:Georgia,serif;">Souvenir Shop</h2>
    <p style="text-align:center; max-width:760px; margin:0 auto 1.25rem; color:#4b473d;">
      Objects inspired by the legend of Royce the Great. Click any image to view it larger.  
      Hover an item to see a short cultural note.
    </p>

    <section class="shop-grid" id="shopGrid">

      <!-- Plush -->
      <article class="souvenir-item"
               data-id="item-plush"
               data-tip="“A soft stand-in for the partner left at home.”"
               title="“A soft stand-in for the partner left at home.”">
        <!-- qty badge -->
        <span class="qty-badge" aria-live="polite"></span>
        <img class="thumb"
             src="../images/shop/royceplush.png"
             data-full="../images/shop/royceplush.png"
             alt="Wirehaired Pointing Griffon plush souvenir on wooden table"
             onclick="openModal(this)"
        />
        <div class="card-body">
          <h3>Wirehaired Pointing Griffon Plush</h3>
          <p>.</p>
          <p class="price">$24.00</p>
          <!--  data-* + addToCart -->
          <button
            aria-label="Add Wirehaired Pointing Griffon Plush to cart"
            onclick="addToCart(this)"
            data-id="item-plush"
            data-name="Wirehaired Pointing Griffon Plush"
            data-price="24.00"
            data-image="../images/shop/royceplush.png">
            Add Wirehaired Pointing Griffon Plush to Cart
          </button>
        </div>
      </article>

      <!-- Postcard -->
      <article class="souvenir-item"
               data-id="item-postcard"
               data-tip="“The last bend where Royce waited.”"
               title="“The last bend where Royce waited.”">
        <span class="qty-badge" aria-live="polite"></span>
        <img class="thumb"
             src="../images/shop/postcard.png"
             data-full="../images/shop/postcard.png"
             alt="Postcard of Royce the Great at the river bend"
             onclick="openModal(this)"
        />
        <div class="card-body">
          <h3>Postcard: Royce at the River Bend</h3>
          <p> </p>
          <p class="price">$3.50</p>
          <button
            aria-label="Add Postcard: Royce at the River Bend to cart"
            onclick="addToCart(this)"
            data-id="item-postcard"
            data-name="Postcard: Royce at the River Bend"
            data-price="3.50"
            data-image="../images/shop/postcard.png">
            Add Postcard: Royce at the River Bend to Cart
          </button>
        </div>
      </article>

      <!-- Whistle -->
      <article class="souvenir-item"
               data-id="item-whistle"
               data-tip="“The first trill after a long day’s hunt.”"
               title="“The first trill after a long day’s hunt.”">
        <span class="qty-badge" aria-live="polite"></span>
        <img class="thumb"
             src="../images/shop/whistle.png"
             data-full="../images/shop/whistle.png"
             alt="Wooden dog whistle souvenir on table"
             onclick="openModal(this)"
        />
        <div class="card-body">
          <h3>Cedar Dog Whistle (Replica)</h3>
          <p> </p>
          <p class="price">$14.00</p>
          <button
            aria-label="Add Cedar Dog Whistle to cart"
            onclick="addToCart(this)"
            data-id="item-whistle"
            data-name="Cedar Dog Whistle (Replica)"
            data-price="14.00"
            data-image="../images/shop/whistle.png">
            Add Cedar Dog Whistle (Replica) to Cart
          </button>
        </div>
      </article>

      <!-- Socks -->
      <article class="souvenir-item"
               data-id="item-socks"
               data-tip="“Portable joy, carried like a prize.”"
               title="“Portable joy, carried like a prize.”">
        <span class="qty-badge" aria-live="polite"></span>
        <img class="thumb"
             src="../images/shop/socks.png"
             data-full="../images/shop/socks.png"
             alt="Purple huckleberry-dyed socks folded on table"
             onclick="openModal(this)"
        />
        <div class="card-body">
          <h3>Huckleberry Dyed Socks</h3>
          <p></p>
          <p class="price">$12.00</p>
          <button
            aria-label="Add Huckleberry Dyed Socks to cart"
            onclick="addToCart(this)"
            data-id="item-socks"
            data-name="Huckleberry Dyed Socks"
            data-price="12.00"
            data-image="../images/shop/socks.png">
            Add Huckleberry Dyed Socks to Cart
          </button>
        </div>
      </article>

    </section>
  </main>

  <footer class="site-footer">
    <p>This is a fictitious website created purely for academic purposes.</p>
    <p>All images and some content were generated with AI assistance and then curated/edited by a human.</p>
  </footer>

 
  <div class="modal" id="itemModal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
    <div class="modal-card">
      <div class="modal-media">
        <img id="modalImg" src="" alt="">
      </div>
      <div class="modal-meta">
        <div id="modalTitle" class="modal-title">Preview</div>
        <button class="modal-close" onclick="closeModal()">Close</button>
      </div>
    </div>
  </div>

  <script>
  


    const CART_KEY = 'museumCartV1';

    // array of id,name,unitPrice,qty,image)
    function readCart() {
      try { return JSON.parse(localStorage.getItem(CART_KEY)) || []; }
      catch { return []; }
    }
    function writeCart(cart) {
      localStorage.setItem(CART_KEY, JSON.stringify(cart));
    }

    /*  Reads dataset, updates cart, updates badge. */
    function addToCart(btn) {
      const id = btn.dataset.id;
      const name = btn.dataset.name;
      const unitPrice = Number(btn.dataset.price);
      const image = btn.dataset.image;

      let cart = readCart();
      const idx = cart.findIndex(it => it.id === id);
      if (idx >= 0) {
        cart[idx].qty += 1;
      } else {
        cart.push({ id, name, unitPrice, qty: 1, image });
      }
      writeCart(cart);

      // card's qty badge
      const card = btn.closest('.souvenir-item');
      if (card) {
        const badge = card.querySelector('.qty-badge');
        if (badge) {
          const item = cart.find(it => it.id === id);
          badge.textContent = item ? `Qty: ${item.qty}` : '';
        }
      }
    }

    
    function openModal(imgEl){
      const full = imgEl.getAttribute('data-full') || imgEl.src;
      const title = imgEl.closest('.souvenir-item')?.querySelector('h3')?.textContent?.trim() || 'Preview';

      const modal = document.getElementById('itemModal');
      const modalImg = document.getElementById('modalImg');
      const modalTitle = document.getElementById('modalTitle');

      modalImg.src = full;
      modalImg.alt = imgEl.alt || title;
      modalTitle.textContent = title;

      modal.classList.add('open');
    }
    function closeModal(){
      document.getElementById('itemModal').classList.remove('open');
    }
    
    document.getElementById('itemModal').addEventListener('click', (e)=>{
      if(e.target.id === 'itemModal') closeModal();
    });
    document.addEventListener('keydown', (e)=>{
      if(e.key === 'Escape') closeModal();
    });

    // Initialize badges 
    (function(){
      const cart = readCart();
      const items = document.querySelectorAll('.souvenir-item');
      for (let i=0;i<items.length;i++){
        const a = items[i];
        const id = a.getAttribute('data-id');
        const match = cart.find(it => it.id === id);
        if (match && match.qty > 0){
          const b = a.querySelector('.qty-badge');
          if (b) b.textContent = `Qty: ${match.qty}`;
        }
      }
    })();
  </script>
</body>
</html>
